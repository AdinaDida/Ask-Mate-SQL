{% extends 'layout.html' %}

{% block content %}
    <h1 id="header">SKYRIM</h1>
    <h1 id="subheader">The Elder Scrolls</h1>

    <a href="/list" id="see_all_quest">See all questions</a><br>

    <form action="/search" method="get" id="form_search">
        <label for="question">Search in:&nbsp;&nbsp;</label>
        <input type="text" id="question" name="q" size="24" placeholder="questions/descriptions/answers"
               required>&nbsp;&nbsp;
        <input type="submit" value="search" id="list_button">
    </form>
    <div id="display_quest">
    {% if query %}
        <h2>Results for "<mark>{{ quest }}</mark>":</h2>
        <h3>{{ count }} result(s)</h3>
        {% if questions %}
            {% for question in questions%}
            <p><a href="/question/{{question['id']}}">{{ question['title'] }}</a></p>
            {% endfor %}
        {% else %}
            <p>Database has no results for "<mark>{{ quest }}</mark>"!</p>
        {% endif %}
    {% else %}
        <h2>Latest Questions</h2>
        {% if questions %}
            {% for question in questions %}
                <p><a href="/question/{{question['id']}}">{{ question['title'] }}</a></p>
            {% endfor %}
        {% endif %}
    {% endif %}
    </div>
{% endblock %}